<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>오행 벽돌깨기</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- 상단 네비게이션 바 -->
  <header class="top-nav">
    <div class="nav-left">
      <span class="nav-logo">오행 벽돌깨기</span>
    </div>
    <nav class="nav-right">
      <button id="navHome" class="nav-btn">메인</button>
      <button id="navHowto" class="nav-btn">게임 설명</button>
      <button id="navPlay" class="nav-btn nav-primary">게임 시작</button>
    </nav>
  </header>

    <!-- 메인 메뉴 -->
  <div id="main-menu" class="screen active">
    <div class="menu-layout">
      <!-- 왼쪽: 이미지 + 심벌 -->
      <div class="menu-visual">
        <div class="menu-logo-ring">
          <span class="logo-text">五行</span>
        </div>
        <img
          src="image/음양오행_생극전환_한글_화살표.gif"
          alt="오행 상생·상극 관계도"
          class="menu-visual-image"
        >
        <p class="menu-visual-caption">
          다섯 가지 속성의 힘으로<br>
          벽돌을 부수고, 상생·상극을 이해해 보세요.
        </p>
      </div>

      <!-- 오른쪽: 기존 메뉴 카드 -->
      <div class="menu-card">
        <h1>오행 벽돌깨기</h1>
        <p class="subtitle">플랫폼의 오행 속성을 바꿔서 유리한 벽돌을 노려보세요!</p>

        <!-- 오행 칩 -->
        <div class="element-chips">
          <span class="chip fire">화</span>
          <span class="chip earth">토</span>
          <span class="chip metal">금</span>
          <span class="chip water">수</span>
          <span class="chip wood">목</span>
        </div>

        <div class="menu-buttons">
          <button id="btnStart" class="btn">게임 시작</button>
          <button id="btnHowTo" class="btn secondary">게임 설명</button>
        </div>

        <ul class="menu-hints">
          <li>← → : 패들 이동</li>
          <li>Space : 속성 변경</li>
          <li>ESC / P : 일시정지</li>
        </ul>
      </div>
    </div>
  </div>


      <!-- 게임 설명 화면 -->
  <div id="howto-screen" class="screen">
    <h2>게임 설명</h2>

    <!-- 그림 + 설명을 옆으로 배치하는 래퍼 -->
    <div class="howto-layout">
      <!-- ★ 오행 상생·상극 설명 이미지 -->
      <div class="howto-diagram">
        <img src="image/음양오행_생극전환_한글_화살표.gif" alt="오행 상생·상극 관계도">
        <p class="howto-diagram-caption">
          파란 화살표(상생)는 앞에 있는 원소가 뒤에 있는 원소를 <strong>도와주는 관계</strong>,
          빨간 화살표(상극)는 앞에 있는 원소가 뒤에 있는 원소를 <strong>제어하고 이기는 관계</strong>입니다.
          이 게임에서 공과 벽돌의 데미지는 이 상생·상극 관계를 기반으로 계산됩니다.
        </p>
        <ul class="howto-rel">
          <li><strong>상생(파란 화살표)</strong><br>
            목 → 화 → 토 → 금 → 수 → 목<br>
            서로를 키워주는 관계입니다.
          </li>
          <li><strong>상극(빨간 화살표)</strong><br>
            목 → 토 → 수 → 화 → 금 → 목<br>
            서로를 견제하고 이기는 관계입니다.
          </li>
        </ul>
      </div>

      <!-- 텍스트 설명 -->
      <ul class="howto-list">
        <li>← → : 패들을 좌우로 이동합니다.</li>
        <li>Space : 패들의 오행(불 / 땅 / 쇠 / 물 / 나무) 속성을 바꿉니다.</li>
        <li>공이 패들에 닿으면 패들의 속성을 따라 공의 속성이 바뀝니다.</li>
        <li>
          공과 벽돌 속성 조합에 따라 데미지가 달라집니다.<br>
          - 공이 벽돌을 상극으로 이기면 <strong>큰 데미지</strong><br>
          - 벽돌이 공을 상극으로 이기면 <strong>데미지 0</strong><br>
          - 상생 관계에서는 누가 도움을 받는지에 따라 <strong>중간 데미지</strong>가 들어갑니다.
        </li>
        <li>모든 벽돌을 없애면 클리어, 목숨이 0이 되면 게임 오버입니다.</li>
      </ul>
    </div>

    <button id="btnHowToBack" class="btn secondary">메인으로</button>
  </div>



    <!-- 실제 게임 화면 -->
  <div id="game-screen" class="screen">
    <div class="game-card">
      <h1>오행 벽돌깨기</h1>

      <div class="info-row">
        <div class="info">
          <div class="info-stats">
            <div>점수: <span id="score">0</span></div>
            <div>남은 목숨: <span id="lives">3</span></div>
            <div>시간: <span id="timer">0.00</span>초</div>
          </div>
          <div class="info-stats-under">조작: ← →, Space, ESC(일시정지)</div>
        </div>

        <!-- 현재 속성 표시 -->
        <div class="element-indicator">
          <span class="label">현재 속성</span>
          <span id="currentElementKorean" class="value">화(火)</span>
        </div>
      </div>

      <!-- 🔹 난이도 선택 오버레이 -->
      <div id="difficulty-overlay" class="difficulty-overlay">
        <h2>난이도 선택</h2>
        <p class="difficulty-caption">게임을 시작할 난이도를 선택하세요.</p>
        <div class="menu-buttons">
          <button class="btn diff-btn" data-diff="easy">Easy</button>
          <button class="btn diff-btn" data-diff="normal">Normal</button>
          <button class="btn diff-btn" data-diff="hard">Hard</button>
          <button class="btn diff-btn" data-diff="extrim">Extrim</button>
        </div>
        <p class="difficulty-desc">
          Easy: 목숨 5, 줄이 천천히 내려옵니다.<br>
          Normal: 기본 설정입니다.<br>
          Hard: 목숨이 줄고 줄이 더 자주 내려옵니다.<br>
          Extrim: 목숨 1개, 줄이 아주 빠르게 내려오는 도전 모드!
        </p>
      </div>

      <div class="canvas-wrapper">
        <canvas id="gameCanvas" width="800" height="600"></canvas>
      </div>

      <button id="btnBackToMenu" class="btn secondary small">메인으로</button>
    </div>
  </div>


    <!-- 클리어 화면 -->
  <div id="clear-screen" class="screen">
    <h2>클리어!</h2>
    <p>모든 벽돌을 제거했습니다 🎉</p>
    <p>최종 점수: <span class="final-score"></span></p>
    <!-- 여기 추가 -->
    <p>플레이 타임: <span id="gameOverTime">0.00초</span></p>

    <div class="menu-buttons">
      <button id="btnRestartClear" class="btn">다시 하기</button>
      <button id="btnClearToMenu" class="btn secondary">메인으로</button>
    </div>
  </div>


  <!-- 게임 오버 화면 -->
  <div id="gameover-screen" class="screen">
    <h2>게임 오버</h2>
    <p>최종 점수: <span class="final-score"></span></p>
    <div class="menu-buttons">
      <button id="btnRestartOver" class="btn">다시 하기</button>
      <button id="btnOverToMenu" class="btn secondary">메인으로</button>
    </div>
  </div>

  <script type="module" src="js/main.js"></script>
</body>
</html>
